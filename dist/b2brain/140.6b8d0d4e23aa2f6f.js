"use strict";(self.webpackChunkb2brain=self.webpackChunkb2brain||[]).push([[140],{140:(q,g,r)=>{r.r(g),r.d(g,{DashboardSectionModule:()=>P});var l=r(6895),f=r(3060),p=r(4006),S=r(8681),t=r(4650);let b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[S.q,p.UX,l.ez]}),e})();function v(e,a,n,o,c,i,s){try{var u=e[i](s),m=u.value}catch(X){return void n(X)}u.done?a(m):Promise.resolve(m).then(o,c)}function _(e){return function(){var a=this,n=arguments;return new Promise(function(o,c){var i=e.apply(a,n);function s(m){v(i,o,c,s,u,"next",m)}function u(m){v(i,o,c,s,u,"throw",m)}s(void 0)})}}var A=r(4004),O=r(2340),Z=r(529);class E{constructor(a,n,o,c){this.company=a,this.slug=n,this.logo=o,this.website=c,this.isTracking=!1,this.loading=!1}}var y=r(7009);let d=(()=>{class e{constructor(n){this._snackBar=n}serializeAutoCompleteData(n){return n.map(({company:o,slug:c,logo:i,website:s})=>new E(o,c,i,s))}showErrorMessage(n,o="close"){this._snackBar.open(n,o)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(y.ux))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),T=(()=>{class e{constructor(n,o){this.httpClient=n,this.dashboardSectionService=o}searchAutoCompleteOrg(n){return this.httpClient.get(`${O.N.origin}/search/autocomplete_org_all?q=${n}`).pipe((0,A.U)(o=>this.dashboardSectionService.serializeAutoCompleteData(o)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(Z.eN),t.LFG(d))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var B=r(7392),h=r(9549),F=r(4144);function k(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Please Enter Search Text"),t.qZA())}let J=(()=>{class e{constructor(){this.placeholder="",this.searchControl=new p.NI(null,[p.kI.required]),this.searchOutputEventEmit=new t.vpe}ngOnInit(){}searchEventEmit(){this.searchOutputEventEmit.emit(this.searchControl)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-bar"]],inputs:{placeholder:"placeholder"},outputs:{searchOutputEventEmit:"searchOutputEventEmit"},decls:8,vars:3,consts:[["appearance","fill",1,"w-100"],["matInput","",3,"formControl","placeholder","keyup.enter"],["matSuffix","",3,"click"],[4,"ngIf"]],template:function(n,o){1&n&&(t.TgZ(0,"main")(1,"mat-form-field",0)(2,"mat-label"),t._uU(3,"Search"),t.qZA(),t.TgZ(4,"input",1),t.NdJ("keyup.enter",function(){return o.searchEventEmit()}),t.qZA(),t.TgZ(5,"mat-icon",2),t.NdJ("click",function(){return o.searchControl.setValue("")}),t._uU(6,"close"),t.qZA(),t.YNc(7,k,2,0,"mat-error",3),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("formControl",o.searchControl)("placeholder",o.placeholder),t.xp6(3),t.Q6J("ngIf",o.searchControl.invalid))},dependencies:[B.Hw,h.TO,h.KE,h.hX,h.R9,F.Nt,p.Fj,p.JJ,p.oH,l.O5]}),e})();var M=r(4859),w=r(3162),I=r(1572);function N(e,a){1&e&&t._UZ(0,"mat-progress-bar",7)}function Q(e,a){1&e&&t.GkF(0)}const C=function(e){return{data:e}};function U(e,a){if(1&e&&(t.ynx(0),t.YNc(1,Q,1,0,"ng-container",17),t.BQk()),2&e){const n=t.oxw().$implicit;t.oxw();const o=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(2,C,n))}}function Y(e,a){1&e&&t.GkF(0)}function G(e,a){if(1&e&&t.YNc(0,Y,1,0,"ng-container",17),2&e){const n=t.oxw().$implicit;t.oxw();const o=t.MAs(12);t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(2,C,n))}}function H(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",2)(3,"div",9),t._UZ(4,"img",10),t.qZA(),t.TgZ(5,"div",11)(6,"b")(7,"span",12),t._uU(8),t.qZA()(),t.TgZ(9,"p",13),t._uU(10),t.qZA()(),t.TgZ(11,"div",14),t.YNc(12,U,2,4,"ng-container",15),t.YNc(13,G,1,4,"ng-template",null,16,t.W1O),t.qZA()()(),t.BQk()),2&e){const n=a.$implicit,o=t.MAs(14),c=t.oxw();t.xp6(4),t.Q6J("src",n.logo||c.defaultLogo,t.LSH),t.xp6(4),t.Oqu(n.company),t.xp6(2),t.Oqu(n.website),t.xp6(2),t.Q6J("ngIf",!n.isTracking)("ngIfElse",o)}}function R(e,a){1&e&&(t.ynx(0),t.TgZ(1,"span",21),t._UZ(2,"mat-spinner",22),t.qZA(),t.BQk()),2&e&&(t.xp6(2),t.Q6J("diameter",15))}function z(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){const i=t.CHM(n).data,s=t.oxw();return t.KtG(s.trackAccountData(i))}),t.TgZ(1,"div",19),t.YNc(2,R,3,1,"ng-container",20),t.TgZ(3,"span"),t._uU(4),t.qZA()()()}if(2&e){const n=a.data;t.Q6J("color",n.isTracking?"primary":"warn"),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(2),t.hij(" ",n.isTracking?"TRACKING":"TRACK","")}}const L=[{path:"",component:(()=>{class e{constructor(n,o){this.dashboardSectionHttpService=n,this.dashboardSectionService=o,this.searchResultVar="",this.accountSearchData=[],this.progressBar=!1,this.defaultLogo="https://i.picsum.photos/id/975/200/200.jpg?hmac=FvLU8e3gef5UXnX5uXrQG87WFH6Mx0nTP-mIu215gQE"}ngOnInit(){}ngAfterViewInit(){}searchResult(n){!n.value||this.getDataFromApi(n.value)}getDataFromApi(n){var o=this;return _(function*(){o.progressBar=!0,o.dashboardSectionHttpService.searchAutoCompleteOrg(n).subscribe(c=>o.handleSuccessResponse(c),c=>{o.progressBar=!1,o.dashboardSectionService.showErrorMessage("Something went wrong!")})})()}handleSuccessResponse(n){var o=this;return _(function*(){o.progressBar=!1,o.accountSearchData=n})()}trackAccountData(n){n.loading=!n.loading,setTimeout(()=>{n.loading=!n.loading,n.isTracking=!n.isTracking},3e3)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(T),t.Y36(d))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-section"]],decls:13,vars:3,consts:[[3,"placeholder","searchOutputEventEmit"],[1,"container"],[1,"row"],[1,"col-md-12"],["mode","indeterminate",4,"ngIf"],[4,"ngFor","ngForOf"],["buttonForTracking",""],["mode","indeterminate"],[1,"col-md-6","my-2"],[1,"col-md-2"],["alt","img/png","width","70","height","70",1,"logo-image",3,"src"],[1,"col-md-4","mt-3"],[1,"title"],[1,"website-link"],[1,"col-md-4"],[4,"ngIf","ngIfElse"],["trackingAccountData",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-stroked-button","",1,"mt-2",3,"color","click"],[1,"d-flex","justify-content-space"],[4,"ngIf"],[1,"mt-2","mx-2"],[3,"diameter"]],template:function(n,o){1&n&&(t.TgZ(0,"main")(1,"app-search-bar",0),t.NdJ("searchOutputEventEmit",function(i){return o.searchResult(i)}),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"h1"),t._uU(7,"Similar Accounts"),t.qZA(),t.YNc(8,N,1,0,"mat-progress-bar",4),t.TgZ(9,"div",2),t.YNc(10,H,15,5,"ng-container",5),t.qZA()()()()(),t.YNc(11,z,5,3,"ng-template",null,6,t.W1O)),2&n&&(t.xp6(1),t.Q6J("placeholder","Dashboard"),t.xp6(7),t.Q6J("ngIf",o.progressBar),t.xp6(2),t.Q6J("ngForOf",o.accountSearchData))},dependencies:[J,M.lW,w.pW,I.Ou,l.sg,l.O5,l.tP],styles:[".logo-image[_ngcontent-%COMP%]{border-radius:2px}.title[_ngcontent-%COMP%]{font-size:1.3em}.website-link[_ngcontent-%COMP%]{opacity:.7}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[T,d],imports:[f.Bz.forChild(L),b,S.q,l.ez,f.Bz]}),e})()}}]);